{"ast":null,"code":"var _jsxFileName = \"D:\\\\WorkSpace(Web)\\\\reactPage\\\\app\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport \"./index.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n\n  function getWells() {\n    let BoxItem = [];\n\n    for (let i = 0; i < 8; i++) {\n      for (let j = 0; j < 12; j++) {\n        BoxItem.push({\n          col: j,\n          row: i,\n          selected: false\n        });\n      }\n    }\n\n    return BoxItem;\n  }\n\n  const ITEM_WIDTH = 68;\n  const ITEM_LEFT = 71;\n  const [BoxItem, setWells] = useState(getWells());\n  const BoxItemContainer = useRef(); //  Wells容器\n\n  const [showSelectBox, setShowSelectBox] = useState(false); // 是否开启框选功能\n\n  const [startX, setStartX] = useState(0); //  鼠标按下起始位置横坐标\n\n  const [startY, setStartY] = useState(0); //  鼠标按下起始位置纵坐标\n\n  const [selectBoxWidth, setSelectBoxWidth] = useState(0); //  选择框宽度\n\n  const [selectBoxHeight, setSelectBoxHeight] = useState(0); //  选择框高度\n\n  const [selectBoxLeft, setSelectBoxLeft] = useState(0); //  选择框原点横坐标\n\n  const [selectBoxTop, setSelectBoxTop] = useState(0); //  选择框原点纵坐标\n\n  const [leftMouseDown, setLeftMouseDown] = useState(false); // 鼠标左键是否按下\n\n  let cloneWells = [];\n\n  function mouseDownListener(e) {\n    if (e.buttons !== 1) {\n      //  判断鼠标左键按下\n      return;\n    }\n\n    e.preventDefault();\n    setLeftMouseDown(true);\n    setStartX(e.clientX - BoxItemContainer.current.offsetLeft); //  设置原点坐标为容器左上角\n\n    setStartY(e.clientY - BoxItemContainer.current.offsetTop);\n  } //  鼠标移动监听器\n\n\n  function mouseMoveListener(e) {\n    if (!leftMouseDown) {\n      return;\n    }\n\n    e.preventDefault();\n    let {\n      left,\n      top\n    } = BoxItemContainer.current.getBoundingClientRect(); //  容器上边(左边)到视窗上边(左边)的距离\n\n    let [nowX, nowY] = [e.clientX - left, e.clientY - top]; //  鼠标当前的位置\n\n    setSelectBoxLeft(Math.min(nowX, startX));\n    setSelectBoxTop(Math.min(nowY, startY));\n    setSelectBoxWidth(Math.abs(nowX - startX));\n    setSelectBoxHeight(Math.abs(nowY - startY));\n    setShowSelectBox(true);\n\n    if (selectBoxWidth > 10 && selectBoxHeight > 10) {\n      cloneWells = deepClone(BoxItem, cloneWells);\n      cloneWells.forEach(well => well.selected = ITEM_WIDTH + well.col * ITEM_LEFT > selectBoxLeft && ITEM_WIDTH + well.row * ITEM_LEFT > selectBoxTop && well.col * ITEM_LEFT < selectBoxLeft + selectBoxWidth && well.row * ITEM_LEFT < selectBoxTop + selectBoxHeight);\n      (e.ctrlKey || e.shiftKey) && selectedWells.forEach(well => cloneWells[well].selected = true); //  将先前选中的BoxItem重新设置为true\n\n      setWells(cloneWells);\n    }\n  } //  鼠标左键抬起监听器\n\n\n  function mouseUpListener() {\n    if (!leftMouseDown) {\n      return;\n    }\n\n    setShowSelectBox(false);\n    setLeftMouseDown(false);\n    selectTargetAuto(BoxItem);\n    selectSampleOrGroupAuto(BoxItem, deepClone(sample, cloneSample), setSample, \"sampleName\");\n    selectSampleOrGroupAuto(BoxItem, deepClone(group, cloneGroup), setGroup, \"groupName\");\n  } //  鼠标移出BoxItem面板监听器\n\n\n  function mouseLeaveListener() {\n    if (!leftMouseDown) {\n      return;\n    }\n\n    setShowSelectBox(false);\n    setLeftMouseDown(false);\n    selectTargetAuto(BoxItem);\n    selectSampleOrGroupAuto(BoxItem, deepClone(sample, cloneSample), setSample, \"sampleName\");\n    selectSampleOrGroupAuto(BoxItem, deepClone(group, cloneGroup), setGroup, \"groupName\");\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"box\",\n      ref: BoxItemContainer,\n      onMouseDown: e => mouseDownListener(e),\n      onMouseMove: e => mouseMoveListener(e),\n      onMouseUp: mouseUpListener,\n      children: BoxItem.map(well => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          borderStyle: well.selected ? \"dashed\" : \"solid\"\n        }\n      }, well.row * 12 + well.col, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"xuYS5/chmdV7+6KzYC2CO7y23BI=\");\n\n_c = App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["D:/WorkSpace(Web)/reactPage/app/src/App.js"],"names":["React","useState","App","getWells","BoxItem","i","j","push","col","row","selected","ITEM_WIDTH","ITEM_LEFT","setWells","BoxItemContainer","useRef","showSelectBox","setShowSelectBox","startX","setStartX","startY","setStartY","selectBoxWidth","setSelectBoxWidth","selectBoxHeight","setSelectBoxHeight","selectBoxLeft","setSelectBoxLeft","selectBoxTop","setSelectBoxTop","leftMouseDown","setLeftMouseDown","cloneWells","mouseDownListener","e","buttons","preventDefault","clientX","current","offsetLeft","clientY","offsetTop","mouseMoveListener","left","top","getBoundingClientRect","nowX","nowY","Math","min","abs","deepClone","forEach","well","ctrlKey","shiftKey","selectedWells","mouseUpListener","selectTargetAuto","selectSampleOrGroupAuto","sample","cloneSample","setSample","group","cloneGroup","setGroup","mouseLeaveListener","map","borderStyle"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\n\nimport \"./index.css\"\n\nexport default function App() {\n  function getWells() {\n    let BoxItem = [];\n    for (let i = 0; i < 8; i++) {\n      for (let j = 0; j < 12; j++) {\n        BoxItem.push({\n          col: j,\n          row: i,\n          selected: false,\n        });\n      }\n    }\n    return BoxItem;\n  }\n  const ITEM_WIDTH = 68;\n  const ITEM_LEFT = 71;\n  const [BoxItem, setWells] = useState(getWells());\n  const BoxItemContainer = useRef();  //  Wells容器\n  const [showSelectBox, setShowSelectBox] = useState(false);  // 是否开启框选功能\n  const [startX, setStartX] = useState(0);  //  鼠标按下起始位置横坐标\n  const [startY, setStartY] = useState(0);  //  鼠标按下起始位置纵坐标\n  const [selectBoxWidth, setSelectBoxWidth] = useState(0);  //  选择框宽度\n  const [selectBoxHeight, setSelectBoxHeight] = useState(0);  //  选择框高度\n  const [selectBoxLeft, setSelectBoxLeft] = useState(0);  //  选择框原点横坐标\n  const [selectBoxTop, setSelectBoxTop] = useState(0);  //  选择框原点纵坐标\n  const [leftMouseDown, setLeftMouseDown] = useState(false);  // 鼠标左键是否按下\n  let cloneWells = [];\n\n\n  function mouseDownListener(e) {\n    if (e.buttons !== 1) {      //  判断鼠标左键按下\n      return;\n    }\n    e.preventDefault();\n    setLeftMouseDown(true);\n    setStartX(e.clientX - BoxItemContainer.current.offsetLeft); //  设置原点坐标为容器左上角\n    setStartY(e.clientY - BoxItemContainer.current.offsetTop);\n  }\n\n  //  鼠标移动监听器\n  function mouseMoveListener(e) {\n    if (!leftMouseDown) {\n      return;\n    }\n    e.preventDefault();\n    let {left, top} = BoxItemContainer.current.getBoundingClientRect(); //  容器上边(左边)到视窗上边(左边)的距离\n    let [nowX, nowY] = [e.clientX - left, e.clientY - top]; //  鼠标当前的位置\n    setSelectBoxLeft(Math.min(nowX, startX));\n    setSelectBoxTop(Math.min(nowY, startY));\n    setSelectBoxWidth(Math.abs(nowX - startX));\n    setSelectBoxHeight(Math.abs(nowY - startY));\n    setShowSelectBox(true);\n    if (selectBoxWidth > 10 && selectBoxHeight > 10) {\n      cloneWells = deepClone(BoxItem, cloneWells);\n      cloneWells.forEach(well => well.selected = (ITEM_WIDTH + well.col * ITEM_LEFT) > selectBoxLeft\n        && (ITEM_WIDTH + well.row * ITEM_LEFT) > selectBoxTop\n        && well.col * ITEM_LEFT < selectBoxLeft + selectBoxWidth\n        && well.row * ITEM_LEFT < selectBoxTop + selectBoxHeight);\n      (e.ctrlKey || e.shiftKey) && selectedWells.forEach(well => cloneWells[well].selected = true);  //  将先前选中的BoxItem重新设置为true\n      setWells(cloneWells);\n    }\n  }\n\n  //  鼠标左键抬起监听器\n  function mouseUpListener() {\n    if (!leftMouseDown) {\n      return;\n    }\n    setShowSelectBox(false);\n    setLeftMouseDown(false);\n    selectTargetAuto(BoxItem);\n    selectSampleOrGroupAuto(BoxItem, deepClone(sample, cloneSample), setSample, \"sampleName\");\n    selectSampleOrGroupAuto(BoxItem, deepClone(group, cloneGroup), setGroup, \"groupName\");\n  }\n\n  //  鼠标移出BoxItem面板监听器\n  function mouseLeaveListener() {\n    if (!leftMouseDown) {\n      return;\n    }\n    setShowSelectBox(false);\n    setLeftMouseDown(false);\n    selectTargetAuto(BoxItem);\n    selectSampleOrGroupAuto(BoxItem, deepClone(sample, cloneSample), setSample, \"sampleName\");\n    selectSampleOrGroupAuto(BoxItem, deepClone(group, cloneGroup), setGroup, \"groupName\");\n  }\n  return (\n    <div>\n      <div className=\"box\"\n           ref={BoxItemContainer}\n           onMouseDown={e => mouseDownListener(e)}\n           onMouseMove={e => mouseMoveListener(e)}\n           onMouseUp={mouseUpListener}\n      >\n        {\n          BoxItem.map(well => (\n            <div key={well.row * 12 + well.col}\n                 style={{borderStyle: well.selected ? \"dashed\" : \"solid\"}}\n            >\n            </div>\n          ))\n        }\n      </div>\n    </div>\n  );\n}\n\n"]},"metadata":{},"sourceType":"module"}